<div class="container">
	<% @user.milestone_tracks.each do |track| %>
		<div class="row" id="<%= track.id %>">
			<h4><%= track.name %></h4>
			<div class="line col-sm-11 milestone-track">
				<div class="circle milestone-marker"></div>
				<% track.milestones.each do |m| %>
					<% if m.completed %>
						<span class="glyphicon glyphicon-flag milestone-marker" id="<%= m.id %>"><p><%= m.name %></p></span>
					<% else %>
						<span class="glyphicon glyphicon-unchecked milestone-marker" id="<%= m.id %>"><p><%= m.name %></p></span>
					<% end %>
					<div class="circle milestone-marker"></div>
				<% end %>
				<hr/>
			</div>
			<div class="line col-sm-1">
				<span class="glyphicon glyphicon-certificate btn-lg"></span>
			</div>
		</div>
		<div class="progress">
			<p> Progress: <%= track.progress %> / <%= track.numeric_value %> </p>
		</div>
		<div class="add-progress" id="<%= track.id %>">
			<span class="glyphicon glyphicon-plus"></span>Add/Set Progress
		</div>

		<div class="add-milestone" id="<%= track.id %>">
			<span class="glyphicon glyphicon-plus"></span>Add Milestone
		</div>
	<% end %>
</div>

<%= form_for [@user, @milestone_track] do |f| %>
	<div class="form-container">
		<%= f.label :"Name of new Milestone track" %><br />
		<%= f.text_field :name, required: true %><br />
		<%= f.label :"Number you want to reach: " %>
		<%= f.number_field :numeric_value, :value => 0 %>
		<br />
		<%= f.submit "Create new track" %>
	</div>
<% end %>


<!-- Script for showing and displaying Milestones -->
<script>
	milestones();
	positionMilestones();
	addProgress();
</script>
